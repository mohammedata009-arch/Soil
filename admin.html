<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ØºØ±ÙØ© Ø§Ù„ØªØ­ÙƒÙ… | Ù…. Ù…Ø­Ù…Ø¯ Ø·Ù‡</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #f0f2f5; margin: 0; display: flex; }
        .sidebar { width: 280px; background: #1a237e; color: white; min-height: 100vh; padding: 20px; position: fixed; }
        .main { margin-right: 280px; padding: 40px; width: 100%; }
        .card { background: white; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); margin-bottom: 30px; }
        input, textarea { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }
        button { background: #1a237e; color: white; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold; }
        .delete-btn { background: #ff5252; padding: 5px 10px; font-size: 12px; }
    </style>
</head>
<body>

<div class="sidebar">
    <h2>âš™ï¸ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>
    <p>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ø´Ù…Ù‡Ù†Ø¯Ø³ Ù…Ø­Ù…Ø¯</p>
    <hr>
    <p>Ù…Ù† Ù‡Ù†Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ ÙƒÙ„ Ø´ÙŠØ¡ ÙŠØ¸Ù‡Ø± Ù„Ù„Ù…Ù‡Ù†Ø¯Ø³ÙŠÙ† ÙÙŠ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ.</p>
</div>

<div class="main">
    <div class="card">
        <h3>ğŸ“¢ Ù†Ø´Ø± Ø¥Ø¹Ù„Ø§Ù† Ø³Ø±ÙŠØ¹</h3>
        <input type="text" id="adVal" placeholder="Ø§ÙƒØªØ¨ Ù†Øµ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø§Ù„Ø°ÙŠ Ø³ÙŠØ¸Ù‡Ø± ÙÙŠ Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ">
        <button onclick="update('current_ad', 'adVal')">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†</button>
        <button onclick="db.ref('current_ad').remove()" style="background:#666">Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†</button>
    </div>

    <div class="card">
        <h3>ğŸ”— Ø¥Ø¶Ø§ÙØ© Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø¬Ø¯ÙŠØ¯Ø© (ØµÙØ­Ø©/Ø¯ÙˆØ±Ø©/Ø±Ø§Ø¨Ø·)</h3>
        <input type="text" id="lTitle" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø²Ø± (Ù…Ø«Ø§Ù„: ÙƒÙˆØ±Ø³ Ø§Ù„Ø¥ÙŠØªØ§Ø¨Ø³)">
        <input type="text" id="lIcon" placeholder="Ø¥ÙŠÙ…ÙˆØ¬ÙŠ Ø§Ù„Ø²Ø± (Ù…Ø«Ø§Ù„: ğŸ’» Ø£Ùˆ ğŸ—ï¸)">
        <input type="text" id="lUrl" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙØ­Ø© Ø£Ùˆ Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ">
        <button onclick="addLink()">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ù…ÙˆÙ‚Ø¹ ÙÙˆØ±Ø§Ù‹</button>
    </div>

    <div class="card">
        <h3>ğŸ“ ØªÙØ¹ÙŠÙ„ Ø§Ù…ØªØ­Ø§Ù† (Ø±Ø§Ø¨Ø· Google Form)</h3>
        <input type="text" id="exUrl" placeholder="Ø¶Ø¹ Ø±Ø§Ø¨Ø· Ø§Ù„Ø§Ù…ØªØ­Ø§Ù† Ù‡Ù†Ø§">
        <button onclick="update('current_exam', 'exUrl')">Ù†Ø´Ø± Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†</button>
        <button onclick="db.ref('current_exam').remove()" style="background:#666">Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†</button>
    </div>

    <div class="card">
        <h3>ğŸ‘¥ Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø´ØªØ±ÙƒÙŠÙ† Ø§Ù„Ø¬Ø¯Ø¯</h3>
        <div id="reqBox">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
    </div>
</div>

<script>
    const firebaseConfig = {
        apiKey: "AIzaSyAQtlovkQYAanzfBpX5cePgcXffLau-k-M",
        authDomain: "civil-engineering-platform.firebaseapp.com",
        databaseURL: "https://civil-engineering-platform-default-rtdb.firebaseio.com/",
        projectId: "civil-engineering-platform",
        storageBucket: "civil-engineering-platform.firebasestorage.app",
        appId: "1:329809780930:web:410fd497bee2c8a13c9b5b"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    function update(path, id) {
        db.ref(path).set(document.getElementById(id).value).then(() => alert("ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ« âœ…"));
    }

    function addLink() {
        const title = document.getElementById('lTitle').value;
        const icon = document.getElementById('lIcon').value;
        const url = document.getElementById('lUrl').value;
        if(title && url) {
            db.ref('links').push({ title, icon, url }).then(() => alert("ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© âœ…"));
        }
    }

    db.ref('requests').on('value', s => {
        let html = "";
        s.forEach(c => {
            html += `<div style="padding:10px; border-bottom:1px solid #eee; display:flex; justify-content:space-between;">
                <span><b>${c.val().name}</b> (${c.val().phone})</span>
                <button class="delete-btn" onclick="db.ref('requests/${c.key}').remove()">Ø­Ø°Ù</button>
            </div>`;
        });
        document.getElementById('reqBox').innerHTML = html || "Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©.";
    });
</script>
</body>
</html>

