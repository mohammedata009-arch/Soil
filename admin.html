<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ØºØ±ÙØ© Ø§Ù„ØªØ­ÙƒÙ… | Ù…. Ù…Ø­Ù…Ø¯ Ø·Ù‡</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #f0f2f5; margin: 0; display: flex; }
        .sidebar { width: 280px; background: #1a237e; color: white; min-height: 100vh; padding: 20px; position: fixed; right: 0; }
        .main { margin-right: 280px; padding: 40px; width: calc(100% - 280px); }
        .card { background: white; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); margin-bottom: 30px; }
        input { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }
        button { background: #1a237e; color: white; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold; }
        .del-btn { background: #ff5252; padding: 5px 10px; border-radius: 5px; color: white; border: none; cursor: pointer; }
    </style>
</head>
<body>

<div class="sidebar">
    <h2>âš™ï¸ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>
    <p>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ø´Ù…Ù‡Ù†Ø¯Ø³ Ù…Ø­Ù…Ø¯ Ø·Ù‡</p>
    <hr>
    <p>ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ù…Ù†ØµØ© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ù…Ù† Ù‡Ù†Ø§.</p>
</div>

<div class="main">
    <div class="card">
        <h3>ğŸ“¢ Ù†Ø´Ø± Ø¥Ø¹Ù„Ø§Ù† Ø¬Ø¯ÙŠØ¯</h3>
        <input type="text" id="adVal" placeholder="Ù†Øµ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø§Ù„Ø¹Ù„ÙˆÙŠ">
        <button onclick="updateData('current_ad', 'adVal')">Ù†Ø´Ø± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† ğŸš€</button>
        <button onclick="db.ref('current_ad').remove()" style="background:#666">Ø­Ø°Ù Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†</button>
    </div>

    <div class="card">
        <h3>ğŸ”— Ø¥Ø¶Ø§ÙØ© Ø£ÙŠÙ‚ÙˆÙ†Ø©/Ø±Ø§Ø¨Ø· Ø¬Ø¯ÙŠØ¯</h3>
        <input type="text" id="lTitle" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø²Ø±">
        <input type="text" id="lIcon" placeholder="Ø¥ÙŠÙ…ÙˆØ¬ÙŠ (Ù…Ø«Ù„ ğŸ—ï¸ Ø£Ùˆ ğŸ“š)">
        <input type="text" id="lUrl" placeholder="Ø§Ù„Ø±Ø§Ø¨Ø· (Ø±Ø§Ø¨Ø· Ø®Ø§Ø±Ø¬ÙŠ Ø£Ùˆ Ù…Ù„Ù .html)">
        <button onclick="addLink()">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø²Ø± ÙÙˆØ±Ø§Ù‹ âœ…</button>
    </div>

    <div class="card">
        <h3>ğŸ“ Ù†Ø´Ø± Ø§Ù…ØªØ­Ø§Ù† (Ø±Ø§Ø¨Ø· Google Form)</h3>
        <input type="text" id="exUrl" placeholder="Ø±Ø§Ø¨Ø· Google Form">
        <button onclick="updateData('current_exam', 'exUrl')">Ù†Ø´Ø± Ø§Ù„Ø§Ù…ØªØ­Ø§Ù† ğŸ“‘</button>
        <button onclick="db.ref('current_exam').remove()" style="background:#666">Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†</button>
    </div>

    <div class="card">
        <h3>ğŸ‘¥ Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø´ØªØ±ÙƒÙŠÙ†</h3>
        <div id="reqBox">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
    </div>
</div>

<script>
    const firebaseConfig = {
        apiKey: "AIzaSyAQtlovkQYAanzfBpX5cePgcXffLau-k-M",
        authDomain: "civil-engineering-platform.firebaseapp.com",
        databaseURL: "https://civil-engineering-platform-default-rtdb.firebaseio.com/",
        projectId: "civil-engineering-platform",
        storageBucket: "civil-engineering-platform.firebasestorage.app",
        appId: "1:329809780930:web:410fd497bee2c8a13c9b5b"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    function updateData(path, id) {
        db.ref(path).set(document.getElementById(id).value).then(() => alert("âœ… ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ«"));
    }

    function addLink() {
        const title = document.getElementById('lTitle').value;
        const icon = document.getElementById('lIcon').value;
        const url = document.getElementById('lUrl').value;
        if(title && url) {
            db.ref('links').push({ title, icon, url }).then(() => {
                alert("âœ… ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©");
                document.getElementById('lTitle').value = "";
                document.getElementById('lUrl').value = "";
            });
        }
    }

    db.ref('requests').on('value', s => {
        let html = "";
        s.forEach(c => {
            html += `<div style="border-bottom:1px solid #eee; padding:10px; display:flex; justify-content:space-between;">
                <span><b>${c.val().name}</b> (${c.val().phone})</span>
                <button class="del-btn" onclick="db.ref('requests/${c.key}').remove()">Ø­Ø°Ù</button>
            </div>`;
        });
        document.getElementById('reqBox').innerHTML = html || "Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª.";
    });
</script>
</body>
</html>

